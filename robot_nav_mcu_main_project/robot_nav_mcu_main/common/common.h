/*************************************************
  ** Copyright (C),  CVTE Electronics CO.Ltd 2020-2021.
  ** File name:      common.h
  ** Author:
  ** Version:
  ** Date:
  ** Description:
  ** Others:
  ** Function List:
  ** History:

  ** <time>   <author>    <version >   <desc>
  **
*************************************************/

#ifndef _COMMON_DEF_H
#define _COMMON_DEF_H

/*****************************************************************
 * 包含头文件(如非特殊需要，H文件不建议包含其它H文件)
 ******************************************************************/
#include "stdint.h"

/**
 * @ingroup Robot_COMMON 通用模块层
 *
 * @brief \n
 * \n
 * @{
 */

#ifdef __cplusplus
extern "C" {
#endif

/*****************************************************************
 * 宏定义
 ******************************************************************/

/*****************************************************************
 * 结构定义
 ******************************************************************/
#pragma pack(push)
#pragma pack(1)

typedef struct {
    uint16_t position_l;
    uint16_t position_r;

} MOTOR_POSITION_T, *MOTOR_POSITION_P;

typedef struct {
    uint16_t err_bits;
    int16_t  speed_l;    // 0.1 rpm
    int16_t  speed_r;    // 0.1 rpm
    int8_t   current_l;  // 0.1 A
    int8_t   current_r;  // 0.1 A

} MOTOR_SPEED_T, *MOTOR_SPEED_P;

#pragma pack(pop)

typedef enum {
    NO_LOCK      = 0,
    NORMAL_LOCK  = 1,
    EMERGER_LOCK = 2,

} MOTOR_LOCK_TYPE_E;

/*****************************************************************
 * 全局变量声明
 ******************************************************************/

/*****************************************************************
 * 函数原型声明
 ******************************************************************/

/****************************************************
功能  : 初始化 common
返回值: 等于0表示成功，其它值表示失败原因
 ***************************************************/
int common_init(void);

/****************************************************
功能  ：释放 common 资源
返回值：等于0表示成功，其它值表示失败原因
***************************************************/
int common_deInit(void);

/*****************************************************************
 * 函数说明
 ******************************************************************/

#ifdef __cplusplus
}
#endif

/* @} Robot_COMMON */

#endif
